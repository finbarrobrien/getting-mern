mixin starRating(stars)
  span.rating
  - for(let i = 1; i <= 5; i++)
    if i <= stars
      span.glyphicon.glyphicon-star
    else
      span.glyphicon.glyphicon-star-empty

mixin review(review)
  div.row
    div.review
      div.well.well-sm.review-header
        +starRating(review.stars)
        span.reviewAuthor=review.reviewer
        small.reviewTimestamp
          +formatDate(review.date)
      div.col-xs-12
        p=review.comment

mixin formatDate(date)
  - const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
  - const superScripts = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', '11th', '12th', '13th', '14th', '15th', '16th', '17th', '18th', '19th', '20th','21st', '22nd', '23rd', '24th', '25th', '26th', '27th', '28th', '29th', '30th', '31st'];
  - const d = new Date(date);
  - const out=`${superScripts[d.getDate()]} ${monthNames[d.getMonth()]} ${d.getFullYear()}`;
  =out

mixin facility(facility)
  span.label.label-warning
    span.glyphicon.glyphicon-ok
    |&nbsp;
    =facility
  |&nbsp;

mixin location(location)
  div.col-xs-12.list-group-item
    h4
      a(href="/location/"+location._id)=location.name
      small &nbsp;
        +starRating(location.stars)
      span.badge.pull-right.badge-default=location.distance
    p.address=location.address
    p
      if location.facilities
      each facility in location.facilities
        +facility(facility)
        | &nbsp;
